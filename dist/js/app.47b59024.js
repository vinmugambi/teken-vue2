(function(e){function t(t){for(var r,o,c=t[0],l=t[1],i=t[2],A=0,v=[];A<c.length;A++)o=c[A],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(t);while(v.length)v.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(u.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},u=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var s=l;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1b34":function(e,t,n){},2813:function(e,t,n){"use strict";var r=n("8e1c"),a=n.n(r);t["default"]=a.a},"398c":function(e,t,n){},"3bc1":function(e,t,n){"use strict";var r=n("398c"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=(n("4de4"),n("7db0"),n("b64b"),n("96cf"),n("1da1")),u=n("2f62"),o=(n("b0c0"),n("d3b7"),n("b462")),c=n.n(o),l=n("3390"),i=n.n(l),s=n("8af1"),A=n.n(s),v=n("e4fd"),p=n.n(v),y=i()("http://localhost:3030"),I=c()().configure(y.fetch(window.fetch)).configure(A()({storage:window.localStorage})),d=function(){Object(v["provide"])("feathers",I)};I.service("visa").hooks({before:{},after:{},error:{all:[function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t.service.name,t.method,t.error);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}});var N=I;r["default"].use(u["a"]);var f={initialise:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.service("visa").find();case 2:n=t.sent,e.commit("patch",{totalApplications:n.total}),e.commit("patch",{applications:n.data});case 5:case"end":return t.stop()}}),t)})))()},discard:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.state.applications.filter((function(e){return e._id!==t})),e.commit("patch",{applications:r}),e.commit("patch",{totalApplications:e.state.totalApplications-1}),N.service("visa").remove(t);case 4:case"end":return n.stop()}}),n)})))()}},E={patch:function(e,t){Object.keys(t)&&0!==!Object.keys(t).length||console.error("patch payload should be an object that has more than one key");var n=Object.keys(t)[0];Object(v["set"])(e,n,t[n])},input:function(e,t){Object.keys(t)&&0!==!Object.keys(t).length||console.error("patch payload should be an object that has more than one key");var n=Object.keys(t)[0];Object(v["set"])(e.current,n,t[n])}},O=new u["a"].Store({strict:!0,state:{current:null,applications:null,error:null},mutations:E,actions:f}),S=O,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"min-h-screen relative bg-gray-100"},[n("navigation"),n("main",{staticClass:"container mx-auto"},[n("router-view")],1),n("my-footer")],1)},b=[],T=n("d571"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"absolute hidden md:block bottom-0 left-0 right-0 text-center text-gray-600 text-xs"},[e._v(" Teken Mobility "+e._s(e.thisYear)+" ")])},C=[],L=(new Date).getFullYear(),h={setup:function(){return{thisYear:L}}},U=h,M=n("2877"),D=Object(M["a"])(U,m,C,!1,null,null,null),x=D.exports,_={name:"App",components:{Navigation:T["default"],MyFooter:x}},g=_,B=Object(M["a"])(g,R,b,!1,null,null,null),G=B.exports,j=(n("d940"),n("8c4f")),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex justify-center items-center min-h-screen"},[n("router-link",{staticClass:"block",attrs:{to:"/visa"}},[e._v("Under development")])],1)},k=[],H={},w=Object(M["a"])(H,P,k,!1,null,null,null),K=w.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md:pb-16  md:pt-8"},[0===e.activeStep?n("first",{on:{next:e.nextStep}},[e._v(e._s(e.activeStep))]):e._e(),1===e.activeStep?n("second",{on:{next:e.nextStep}},[e._v(e._s(e.activeStep))]):e._e(),2===e.activeStep?n("third",{on:{back:e.previousStep,next:e.nextStep}},[e._v(e._s(e.activeStep))]):e._e(),3===e.activeStep?n("fourth",{on:{back:e.previousStep,next:e.nextStep}},[e._v(e._s(e.activeStep))]):e._e()],1)},Y=[],V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("step-layout",{scopedSlots:e._u([{key:"header",fn:function(){return e._l(e.tabs.tabList,(function(t,r){return n("div",{key:t.text+r,staticClass:"h-10 flex-1 flex justify-center items-center cursor-pointer font-semibold",class:r===e.tabs.activeTabIndex?"bg-white border-primary-400 border-t-2":"bg-gray-200 border-transparent border-t-2",on:{click:function(t){e.tabs.activeTabIndex=r}}},[e._v(" "+e._s(t.text)+" ")])}))},proxy:!0},{key:"title",fn:function(){return[n("h1",[e._v("Apply for Indian e-visa")])]},proxy:!0},{key:"content",fn:function(){return[n("p",{staticClass:"py-2"},[e._v("To start a new application, click begin")]),n("my-button",{attrs:{variant:"primary"},on:{click:function(t){return e.$emit("next")}}},[e._v("Begin")])]},proxy:!0}])})},Z=[],W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"max-w-sm mx-auto"},[n("div",{staticClass:"bg-white rounded shadow"},[n("div",{staticClass:"flex"},[e._t("header")],2),n("div",{staticClass:"px-4 pt-4  text-sm border-b border-purple-100 pb-2"},[e._t("title")],2),n("div",[e._t("full")],2),n("div",{staticClass:"pt-0 pb-4 px-4"},[e._t("content")],2),n("div",{staticClass:"p-4 border-t border-purple-100"},[e._t("navigation")],2)])])},q=[],$=(n("3bc1"),{}),J=Object(M["a"])($,W,q,!1,null,"dbb70a52",null),X=J.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{ref:"button",staticClass:"btn",class:[e.loading?"btn-loading cursor-wait":"font-bold",{"cursor-not-allowed":e.disabled},"btn-"+e.variant],attrs:{disabled:e.disabled||e.loading},on:{click:function(t){return e.$emit("click")}}},[!0===e.loading?n("span",[e._v("Loading ...")]):e._t("default")],2)},z=[],ee={props:{variant:{type:String,default:"default"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}}},te=ee,ne=(n("7fbe"),Object(M["a"])(te,Q,z,!1,null,null,null)),re=ne.exports,ae={components:{MyButton:re,StepLayout:X},setup:function(){var e=Object(v["reactive"])({tabList:[{text:"Apply"},{text:"Check status"}],activeTabIndex:0}),t=Object(v["inject"])("isLoggedIn");return{tabs:e,isLoggedIn:t}}},ue=ae,oe=Object(M["a"])(ue,V,Z,!1,null,null,null),ce=oe.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("step-layout",{scopedSlots:e._u([{key:"header",fn:function(){},proxy:!0},{key:"title",fn:function(){return[n("h2",[e._v("Choose your visa type")]),n("p",[e._v(" Complete this section to decide the apropriate visa type and its price ")])]},proxy:!0},{key:"content",fn:function(){return[n("form-factory",{attrs:{value:e.formData,schema:e.showing},on:{input:function(t){return e.update(t)}}}),e.isComplete&&e.qualify?n("div",[n("span",{staticClass:"px-1 text-xs text-gray-700"},[e._v("visa summary")]),n("div",{staticClass:"p-4 border rounded"},[n("div",{staticClass:"flex justify-between"},[n("div",{staticClass:"text-lg h-8"},[n("span",[e._v(" e-"+e._s(e.formData.visaType)+" visa ")])]),n("div",{staticClass:"flex items-center"},[e._v("USD "+e._s(e.price))])]),n("div",{staticClass:"flex justify-between flex-row-reverse text-xs text-gray-600"},[n("span",{staticClass:"text-xs uppercase font-light"},[e._v(e._s(e.getLabel(e.formData.duration)))]),n("div",[n("a",{staticClass:"inline-block pr-2 z-10  underline",attrs:{href:"#"}},[e._v("details")]),n("a",{staticClass:"z-10 underline",attrs:{href:"#"}},[e._v("pricing?")])])]),n("div",{staticClass:"pt-4 flex justify-between flex-row-reverse"},[n("my-button",{attrs:{variant:"primary"},on:{click:function(t){return e.$emit("next")}}},[e._v("Continue")]),n("my-button",{on:{click:function(t){return t.preventDefault(),e.$emit("back")}}},[e._v("Back")])],1)])]):e._e()]},proxy:!0},{key:"navigation",fn:function(){return[e.qualify?e._e():n("not-qualify")]},proxy:!0}])})},ie=[],se=(n("a623"),n("4160"),n("caad"),n("4fad"),n("2532"),n("159b"),n("5530")),Ae=n("3835"),ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pt-2"},e._l(e.fields,(function(t){return n("div",{key:t.model,staticClass:"pb-1"},[n("Validate",{attrs:{rules:t.validation,name:t.label},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[n("div",{class:a.length>0?"pl-2 -ml-2 border-l-2 border-red-400 rounded":""},[t.label?n("input-label",{attrs:{label:t.label,"input-id":e.safeId(t)}}):e._e(),t.help?n("p",{staticClass:"text-xs text-gray-600"},[e._v(" "+e._s(t.help)+" ")]):e._e(),n(t.component,e._b({tag:"component",attrs:{error:a.length>0,id:e.safeId(t),value:e.value[t.model],options:t.choices?t.choices:null},on:{input:function(n){return e.update(t.model,n)}}},"component",e.bindAttrs(t),!1)),n("span",{staticClass:"block h-4 text-xs text-red-700"},[e._v(e._s(a[0]))])],1)]}}],null,!0)})],1)})),0)},pe=[],ye=(n("ac1f"),n("5319"),n("ade3")),Ie=n("7bb1"),de=n("4c93"),Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"block text-sm font-semibold",attrs:{for:e.inputId}},[e._v(e._s(e.label)+" ")])},fe=[],Ee={props:{inputId:{type:String,required:!0},label:{type:String,required:!0}}},Oe=Ee,Se=Object(M["a"])(Oe,Ne,fe,!1,null,null,null),Re=Se.exports;Object(Ie["c"])("required",Object(se["a"])(Object(se["a"])({},de["c"]),{},{message:"{_field_} is required"})),Object(Ie["c"])("between",Object(se["a"])(Object(se["a"])({},de["a"]),{},{message:"{_field_} should be between {min} and {max}"})),Object(Ie["c"])("email",Object(se["a"])(Object(se["a"])({},de["b"]),{},{message:"Input a valid email address"}));var be=Object(v["defineComponent"])({props:{schema:{type:Object,required:!0},value:{type:Object,required:!0},shared:{type:Object}},components:{inputLabel:Re,Validate:Ie["b"]},setup:function(e,t){var n=t.emit,r=Object(v["computed"])((function(){var t=[];for(var n in e.schema)t.push(Object(se["a"])(Object(se["a"])({},e.schema[n]),{},{model:n}));return t}));function a(e){return e.model.replace(/\s+/g,"-")}function u(e){return Object(se["a"])(Object(se["a"])({},e.attrs),{},{name:[e.model]})}function o(e,t){n("input",Object(ye["a"])({},e,t))}return{fields:r,bindAttrs:u,update:o,safeId:a}}}),Te=be,me=Object(M["a"])(Te,ve,pe,!1,null,null,null),Ce=me.exports,Le=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},he=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-2 pt-2 pb-1 bg-primary-100 bg-opacity-25 border-l-2 border-primary-400"},[n("h4",{staticClass:"text-sm font-semibold"},[e._v("You do not qualify for e-visa")]),e._v(" Please visit the nearest Indian High Comission to submit your application in paper. ")])}],Ue={},Me=Object(M["a"])(Ue,Le,he,!1,null,null,null),De=Me.exports,xe=window.localStorage,_e={set:function(e,t){xe.setItem(e,t)},get:function(e){return xe.getItem(e)}},ge=_e,Be=(n("d81d"),["ALBANIA","ANDORRA","ANGOLA","ANGUILLA","ANTIGUA AND BARBUDA","ARGENTINA","ARMENIA","ARUBA","AUSTRALIA","AUSTRIA","AZERBAIJAN","BAHAMAS","BARBADOS","BELGIUM","BELIZE","BOLIVIA","BOSNIA AND HERZEGOVINA","BOTSWANA","BRAZIL","BRUNEI","BULGARIA","BURUNDI","CAMBODIA","CAMEROON","CANADA","CAPE VERDE","CAYMAN ISLANDS","CHILE","CHINA-CHINA","CHINA- SAR HONGKONG","CHINA- SAR MACAU","COLOMBIA","COMOROS","COOK ISLANDS","COSTA RICA","COTE D IVOIRE","CROATIA","CUBA","CYPRUS","CZECH REPUBLIC","DENMARK","DJIBOUTI","DOMINICA","DOMINICAN REPUBLIC","EAST TIMOR (DEMOCRATIC REPUBLIC OF)","ECUADOR","EL SALVADOR","ERITREA","ESTONIA","FIJI","FINLAND","FRANCE","GABON","GAMBIA","GEORGIA","GERMANY","GHANA","GREECE","GRENADA","GUATEMALA","GUINEA","GUYANA","HAITI","HONDURAS","HUNGARY","ICELAND","INDONESIA","IRAN","IRELAND","ISRAEL","ITALY","JAMAICA","JAPAN","JORDAN","KAZAKHSTAN","KENYA","KIRIBATI","KYRGYZSTAN","LAOS","LATVIA","LESOTHO","LIBERIA","LIECHTENSTEIN","LITHUANIA","LUXEMBOURG","MADAGASCAR","MALAWI","MALAYSIA","MALI","MALTA","MARSHALL ISLANDS","MAURITIUS","MEXICO","MICRONESIA (FEDERATED STATES OF)","MOLDOVA","MONACO","MONGOLIA","MONTENEGRO","MONTSERRAT","MOZAMBIQUE","MYANMAR","NAMIBIA","NAURU","NETHERLANDS","NEW ZEALAND","NICARAGUA","NIGER","NIUE ISLAND","NORWAY","OMAN","PALAU","PALESTINE","PANAMA","PAPUA NEW GUINEA","PARAGUAY","PERU","PHILIPPINES","POLAND","PORTUGAL","QATAR","REPUBLIC OF KOREA","REPUBLIC OF MACEDONIA","ROMANIA","RUSSIAN FEDERATION","RWANDA","SAINT KITTS AND NEVIS","SAINT LUCIA","SAINT VINCENT AND THE GRENADINES","SAMOA","SAN MARINO","SAUDI ARABIA","SENEGAL","SERBIA","SEYCHELLES","SIERRA LEONE","SINGAPORE","SLOVAKIA","SLOVENIA","SOLOMON ISLANDS","SOUTH AFRICA","SPAIN","SRI LANKA","SURINAME","SWAZILAND","SWEDEN","SWITZERLAND","TAIWAN","TAJIKISTAN","TANZANIA","THAILAND","TONGA","TRINIDAD AND TOBAGO","TURKS AND CAICOS ISL","TUVALU","UGANDA","UKRAINE","UNITED ARAB EMIRATES","UNITED KINGDOM","UNITED STATES OF AMERICA","URUGUAY","UZBEKISTAN","VANUATU","VATICAN CITY STATE ( HOLY SEE)","VENEZUELA","VIETNAM","ZAMBIA","ZIMBABWE"]),Ge=[{value:"AFG",country:"AFGHANISTAN"},{value:"ALA",country:"ALAND ISLANDS"},{value:"ALB",country:"ALBANIA"},{value:"DZA",country:"ALGERIA"},{value:"ASM",country:"AMERICAN SAMOA"},{value:"AND",country:"ANDORRA"},{value:"AGO",country:"ANGOLA"},{value:"AIA",country:"ANGUILLA"},{value:"ATA",country:"ANTARTICA"},{value:"ATG",country:"ANTIGUA AND BARBUDA"},{value:"ARG",country:"ARGENTINA"},{value:"ARM",country:"ARMENIA"},{value:"ABW",country:"ARUBA"},{value:"AUS",country:"AUSTRALIA"},{value:"AUT",country:"AUSTRIA"},{value:"AZE",country:"AZERBAIJAN"},{value:"BHS",country:"BAHAMAS"},{value:"BHR",country:"BAHRAIN"},{value:"BGD",country:"BANGLADESH"},{value:"BRB",country:"BARBADOS"},{value:"BLR",country:"BELARUS"},{value:"BEL",country:"BELGIUM"},{value:"BLZ",country:"BELIZE"},{value:"BEN",country:"BENIN"},{value:"BMU",country:"BERMUDA"},{value:"BTN",country:"BHUTAN"},{value:"BOL",country:"BOLIVIA"},{value:"BIH",country:"BOSNIA AND HERZEGOVINA"},{value:"BWA",country:"BOTSWANA"},{value:"BVT",country:"BOUVET ISLAND"},{value:"BRA",country:"BRAZIL"},{value:"IOT",country:"BRITISH INDIAN OCEAN TERRITORY"},{value:"BRN",country:"BRUNEI"},{value:"BGR",country:"BULGARIA"},{value:"BFA",country:"BURKINA FASO"},{value:"BDI",country:"BURUNDI"},{value:"KHM",country:"CAMBODIA"},{value:"CMR",country:"CAMEROON"},{value:"CAN",country:"CANADA"},{value:"CPV",country:"CAPE VERDE"},{value:"XCC",country:"CARRIBEAN COMMUNITY"},{value:"CYM",country:"CAYMAN ISLANDS"},{value:"CAF",country:"CENTRAL AFRICAN REPUBLIC"},{value:"TCD",country:"CHAD"},{value:"CHL",country:"CHILE"},{value:"CHN",country:"CHINA-CHINA"},{value:"HKG",country:"CHINA- SAR HONGKONG"},{value:"MAC",country:"CHINA- SAR MACAU"},{value:"CXR",country:"CHRISTMAS ISLANDS"},{value:"CCK",country:"COCOS (KEELING) ISLANDS"},{value:"COL",country:"COLOMBIA"},{value:"COM",country:"COMOROS"},{value:"COG",country:"CONGO"},{value:"COD",country:"CONGO (DEMOCRATIC REPUBLIC OF)"},{value:"COK",country:"COOK ISLANDS"},{value:"CRI",country:"COSTA RICA"},{value:"CIV",country:"COTE D IVOIRE"},{value:"HRV",country:"CROATIA"},{value:"CUB",country:"CUBA"},{value:"CYP",country:"CYPRUS"},{value:"CZE",country:"CZECH REPUBLIC"},{value:"PRK",country:"DEMOCRATIC PEOPLE'S REPUBLIC OF KOREA"},{value:"DNK",country:"DENMARK"},{value:"DJI",country:"DJIBOUTI"},{value:"DMA",country:"DOMINICA"},{value:"DOM",country:"DOMINICAN REPUBLIC"},{value:"TLS",country:"EAST TIMOR (DEMOCRATIC REPUBLIC OF)"},{value:"ECU",country:"ECUADOR"},{value:"EGY",country:"EGYPT"},{value:"SLV",country:"EL SALVADOR"},{value:"GNQ",country:"EQUATORIAL GUINEA"},{value:"ERI",country:"ERITREA"},{value:"EST",country:"ESTONIA"},{value:"ETH",country:"ETHIOPIA"},{value:"FLK",country:"FALKLAND ISLANDS (MALVINES)"},{value:"FRO",country:"FAROE ISLANDS"},{value:"FJI",country:"FIJI"},{value:"FIN",country:"FINLAND"},{value:"FRA",country:"FRANCE"},{value:"FXX",country:"FRANCE METROPOLITAN"},{value:"GUF",country:"FRENCH GUIANA"},{value:"PYF",country:"FRENCH POLYNESIA"},{value:"ATF",country:"FRENCH SOUTHERN TERRITORIES"},{value:"GAB",country:"GABON"},{value:"GMB",country:"GAMBIA"},{value:"GEO",country:"GEORGIA"},{value:"DEU",country:"GERMANY"},{value:"GHA",country:"GHANA"},{value:"GIB",country:"GIBRALTAR"},{value:"GRC",country:"GREECE"},{value:"GRL",country:"GREENLAND"},{value:"GRD",country:"GRENADA"},{value:"GLP",country:"GUADELOUPE"},{value:"GUM",country:"GUAM"},{value:"GTM",country:"GUATEMALA"},{value:"GGY",country:"GUERNSEY"},{value:"GIN",country:"GUINEA"},{value:"GNB",country:"GUINEA-BISSAU"},{value:"GUY",country:"GUYANA"},{value:"HTI",country:"HAITI"},{value:"HMD",country:"HEARD AND MCDONALD ISLANDS"},{value:"HND",country:"HONDURAS"},{value:"HUN",country:"HUNGARY"},{value:"ISL",country:"ICELAND"},{value:"IDN",country:"INDONESIA"},{value:"IRN",country:"IRAN"},{value:"IRQ",country:"IRAQ"},{value:"IRL",country:"IRELAND"},{value:"IMN",country:"ISLE OF MAN"},{value:"ISR",country:"ISRAEL"},{value:"ITA",country:"ITALY"},{value:"JAM",country:"JAMAICA"},{value:"JPN",country:"JAPAN"},{value:"JEY",country:"JERSEY"},{value:"JOR",country:"JORDAN"},{value:"KAZ",country:"KAZAKHSTAN"},{value:"KEN",country:"KENYA"},{value:"KIR",country:"KIRIBATI"},{value:"KWT",country:"KUWAIT"},{value:"KGZ",country:"KYRGYZSTAN"},{value:"LAO",country:"LAOS"},{value:"LVA",country:"LATVIA"},{value:"LBN",country:"LEBANON"},{value:"LSO",country:"LESOTHO"},{value:"LBR",country:"LIBERIA"},{value:"LBY",country:"LIBYA"},{value:"LIE",country:"LIECHTENSTEIN"},{value:"LTU",country:"LITHUANIA"},{value:"LUX",country:"LUXEMBOURG"},{value:"MDG",country:"MADAGASCAR"},{value:"MWI",country:"MALAWI"},{value:"MYS",country:"MALAYSIA"},{value:"MDV",country:"MALDIVES"},{value:"MLI",country:"MALI"},{value:"MLT",country:"MALTA"},{value:"MHL",country:"MARSHALL ISLANDS"},{value:"MTQ",country:"MARTINIQUE"},{value:"MRT",country:"MAURITANIA"},{value:"MUS",country:"MAURITIUS"},{value:"MYT",country:"MAYOTTE"},{value:"MEX",country:"MEXICO"},{value:"FSM",country:"MICRONESIA (FEDERATED STATES OF)"},{value:"MDA",country:"MOLDOVA"},{value:"MCO",country:"MONACO"},{value:"MNG",country:"MONGOLIA"},{value:"MNE",country:"MONTENEGRO"},{value:"MSR",country:"MONTSERRAT"},{value:"MAR",country:"MOROCCO"},{value:"MOZ",country:"MOZAMBIQUE"},{value:"MMR",country:"MYANMAR"},{value:"NAM",country:"NAMIBIA"},{value:"NRU",country:"NAURU"},{value:"NPL",country:"NEPAL"},{value:"NLD",country:"NETHERLANDS"},{value:"ANT",country:"NETHERLANDS ANTILLES"},{value:"NTZ",country:"NEUTRAL ZONE"},{value:"NCL",country:"NEW CALEDONIA"},{value:"NZL",country:"NEW ZEALAND"},{value:"NIC",country:"NICARAGUA"},{value:"NER",country:"NIGER"},{value:"NGA",country:"NIGERIA"},{value:"NIU",country:"NIUE ISLAND"},{value:"NFK",country:"NORFOLK ISLAND"},{value:"MNP",country:"NORTHERN MARIANA ISLANDS"},{value:"NOR",country:"NORWAY"},{value:"OMN",country:"OMAN"},{value:"OTH",country:"OTHERS"},{value:"PAK",country:"PAKISTAN"},{value:"PLW",country:"PALAU"},{value:"PSE",country:"PALESTINE"},{value:"PAN",country:"PANAMA"},{value:"PNG",country:"PAPUA NEW GUINEA"},{value:"PRY",country:"PARAGUAY"},{value:"XXX",country:"PERSON OF UNSPECIFIED NATIONALITY"},{value:"PER",country:"PERU"},{value:"PHL",country:"PHILIPPINES"},{value:"PCN",country:"PITCAIRN"},{value:"POL",country:"POLAND"},{value:"PRT",country:"PORTUGAL"},{value:"PRI",country:"PUERTO RICO"},{value:"QAT",country:"QATAR"},{value:"XXB",country:"REFUGEE"},{value:"XXC",country:"REFUGEE(NON-CONVENTIONAL)"},{value:"KOR",country:"REPUBLIC OF KOREA"},{value:"MKD",country:"REPUBLIC OF MACEDONIA"},{value:"UNK",country:"RESIDENT OF KOSOVO (UNMIK)"},{value:"REU",country:"REUNION"},{value:"ROU",country:"ROMANIA"},{value:"RUS",country:"RUSSIAN FEDERATION"},{value:"RWA",country:"RWANDA"},{value:"SHN",country:"SAINT HELENA"},{value:"KNA",country:"SAINT KITTS AND NEVIS"},{value:"LCA",country:"SAINT LUCIA"},{value:"SPM",country:"SAINT PIERRE AND MIQUELON"},{value:"VCT",country:"SAINT VINCENT AND THE GRENADINES"},{value:"WSM",country:"SAMOA"},{value:"SMR",country:"SAN MARINO"},{value:"STP",country:"SAO TOME AND PRINCIPE"},{value:"SAU",country:"SAUDI ARABIA"},{value:"SEN",country:"SENEGAL"},{value:"SRB",country:"SERBIA"},{value:"SYC",country:"SEYCHELLES"},{value:"SLE",country:"SIERRA LEONE"},{value:"SGP",country:"SINGAPORE"},{value:"SVK",country:"SLOVAKIA"},{value:"SVN",country:"SLOVENIA"},{value:"SLB",country:"SOLOMON ISLANDS"},{value:"SOM",country:"SOMALIA"},{value:"ZAF",country:"SOUTH AFRICA"},{value:"SGS",country:"SOUTH GEORGIA AND SOUTH SANDWICH ISLANDS"},{value:"SSD",country:"SOUTH SUDAN"},{value:"XOM",country:"SOVEREIGN MILITARY ORDER OF MALTA"},{value:"ESP",country:"SPAIN"},{value:"LKA",country:"SRI LANKA"},{value:"XXA",country:"STATELESS"},{value:"SDN",country:"SUDAN"},{value:"SUR",country:"SURINAME"},{value:"SJM",country:"SVALBARD AND JAN MAYEN ISLANDS"},{value:"SWZ",country:"SWAZILAND"},{value:"SWE",country:"SWEDEN"},{value:"CHE",country:"SWITZERLAND"},{value:"SYR",country:"SYRIAN ARAB REPUBLIC"},{value:"TWN",country:"TAIWAN"},{value:"TJK",country:"TAJIKISTAN"},{value:"TZA",country:"TANZANIA"},{value:"THA",country:"THAILAND"},{value:"TBT",country:"TIBET"},{value:"TGO",country:"TOGO"},{value:"TKL",country:"TOKELAU"},{value:"TON",country:"TONGA"},{value:"TTO",country:"TRINIDAD AND TOBAGO"},{value:"TUN",country:"TUNISIA"},{value:"TUR",country:"TURKEY"},{value:"TKM",country:"TURKMENISTAN"},{value:"TCA",country:"TURKS AND CAICOS ISL"},{value:"TUV",country:"TUVALU"},{value:"UGA",country:"UGANDA"},{value:"GBD",country:"UK BRITISH DEPENDENT TERRITORIES CITIZEN"},{value:"GBN",country:"UK BRITISH NATIONAL(OVERSEES)"},{value:"GBO",country:"UK BRITISH OVERSEES CITIZEN"},{value:"GBP",country:"UK BRITISH PROTECTED PERSON"},{value:"GBS",country:"UK BRITISH SUBJECT"},{value:"UKR",country:"UKRAINE"},{value:"ARE",country:"UNITED ARAB EMIRATES"},{value:"GBR",country:"UNITED KINGDOM"},{value:"UNO",country:"UNITED NATIONS ORGANIZATION"},{value:"UNA",country:"UNITED NATIONS SPECIALIZED AGENCY"},{value:"UMI",country:"UNITED STATES MINOR OUTLYING ISLANDS"},{value:"USA",country:"UNITED STATES OF AMERICA"},{value:"URY",country:"URUGUAY"},{value:"UZB",country:"UZBEKISTAN"},{value:"VUT",country:"VANUATU"},{value:"VAT",country:"VATICAN CITY STATE ( HOLY SEE)"},{value:"VEN",country:"VENEZUELA"},{value:"VNM",country:"VIETNAM"},{value:"VGB",country:"VIRGIN ISLANDS (BRITISH)"},{value:"VIR",country:"VIRGIN ISLANDS (US)"},{value:"WLF",country:"WALLIS AND FUTUNA ISLANDS"},{value:"ESH",country:"WESTERN SAHARA"},{value:"YEM",country:"YEMEN"},{value:"YUG",country:"YUGOSLAVIA"},{value:"ZMB",country:"ZAMBIA"},{value:"ZWE",country:"ZIMBABWE"}],je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block relative"},[n("select",{domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}},[n("option",{staticClass:"text-gray-500",attrs:{value:""}},[e._v(e._s(e.placeholder))]),e._l(e.options,(function(t,r){return n("option",{key:t.value+"-"+r},[e._v(e._s(t.text))])}))],2),n("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[n("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])])},Pe=[],ke={props:{value:{type:String,required:!1},options:{type:Array,required:!0},placeholder:{type:String,required:!1,default:function(){return"Select"}}}},He=ke,we=(n("cba1"),Object(M["a"])(He,je,Pe,!1,null,null,null)),Ke=we.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.options,(function(t,r){return n("div",{key:t.text,staticClass:"pl-1"},[n("input",{attrs:{type:"radio",id:t.value+"-"+r},domProps:{value:t.value,checked:t.value===e.value},on:{change:function(t){return e.$emit("input",t.target.value)}}}),n("label",{staticClass:"pl-1",attrs:{for:t.value+"-"+r}},[e._v(e._s(t.text))])])})),0)},Ye=[],Ve={props:{value:{type:String,required:!1,default:function(){return""}},options:{type:Array,required:!0}}},Ze=Ve,We=Object(M["a"])(Ze,Fe,Ye,!1,null,null,null),qe=We.exports,$e=Ge.map((function(e){return{value:e.value,text:e.country}})),Je=$e,Xe=[{text:"Tourist",value:"tourist"},{text:"Business",value:"business"},{text:"Medical",value:"medical"},{text:"Conference",value:"conference"}],Qe={tourist:[{text:"Visit family or friend",value:"visit"},{text:"General tour/ Sight seeing",value:"tour"}],business:[{text:"Business/technical meetings or training",value:"meeting"},{text:"Trade fair",value:"fair"},{text:"Purchase or trade",value:"trade"},{text:"Other",value:"other"}],medical:[{text:"Treatment - for patients",value:"patient"},{text:"Attendant - accompanying a patient",value:"attendant"},{text:"Visiting a patient",value:"visitor"}]},ze=[{text:"Ordinary",value:"ordinary"},{text:"Diplomatic",value:"diplomatic"},{text:"Service",value:"service"},{text:"Refugee",value:"refugee"},{text:"Other type not listed",value:"other"}],et={passport:{label:"Passport type",component:qe,choices:ze,validation:"required",help:"Type of the passport you are travelling with. If not sure, enter ordinary"},nationality:{label:"Nationality",component:Ke,choices:$e,attrs:{placeholder:"Select your nationality"},validation:"required",visible:!1},visaType:{label:"Visa type",component:qe,choices:Xe,validation:"required",visible:!1},visaPurpose:{label:"Purpose of travel",component:qe,choices:[],visible:!1,validation:"required"},duration:{label:"Duration of visa",component:qe,visible:!1,validation:"required",options:[],attrs:{placeholder:"How long are you going to stay in India",type:"number",min:"1"}}},tt=[{price:25,tourist:"one",nationality:{except:["ARGENTINA","SOUTH AFRICA"],is:[]}},{price:40,tourist:"twelve",nationality:{except:["ARGENTINA","SOUTH AFRICA"],is:[]}},{price:80,conference:"one",medical:"two",business:"twelve",tourist:"sixty",nationality:{except:["ARGENTINA","SOUTH AFRICA","UNITED STATES OF AMERICA","UNITED KINGDOM"],is:[]}},{price:100,medical:"two",business:"twelve",nationality:{is:["UNITED STATES OF AMERICA","UNITED KINGDOM"],except:[]}},{price:80,tourist:"sixty",nationality:{is:["UNITED STATES OF AMERICA","UNITED KINGDOM"],except:[]}}],nt=function(e,t,n){var r=tt.filter((function(r){if(Object.keys(r).includes(t)&&r[t]===n&&(r.nationality.is.includes(e)||!r.nationality.except.includes(e)))return!0}));return r.length>0?r[0].price:0},rt=[{text:"1 month - single entry",value:"one",tourist:"electronic",conference:"electronic",extendable:!1},{text:"2 months - double entry",value:"two",medical:"electronic",extendable:!0},{text:"1 year - multiple entry",value:"twelve",tourist:["electronic","regular"],business:["regular","electronic"]},{text:"5 years - multiple entry",value:"sixty",tourist:"electronic"}],at=function(e){var t=rt.filter((function(t){if(Object.keys(t).includes(e))return!0})),n=t.map((function(e){return{text:e.text,value:e.value}}));return n},ut=function(e){var t=rt.filter((function(t){return t.value===e}));return t[0].text},ot=function(){var e={};return Object.entries(et).forEach((function(t,n){var r=Object(Ae["a"])(t,2),a=r[0],u=r[1];e[a]=Object(se["a"])(Object(se["a"])({},u),{},{index:n})})),e},ct={components:{StepLayout:X,FormFactory:Ce,MyButton:re,NotQualify:De},setup:function(){var e=Object(v["ref"])(!1),t=Object(v["ref"])(!0),n=Object(v["reactive"])({passport:null,nationality:null,visaType:null,visaPurpose:null,duration:null});function r(e){var t=Object.keys(e)[0];Object(v["set"])(n,t,e[t]),l();var r=a[t].index,u=2===r&&"conference"===e[t],i=3===r&&"medical"===n.visaType,s=3===r&&"business"===n.visaType;2===r&&"conference"!==e[t]&&c(e[t]),u||i||s||o(r),u&&(n.visaPurpose="conference",n.duration="one"),i&&(n.duration="two"),s&&(n.duration="twelve")}var a=Object(v["reactive"])(ot()),u=Object(v["computed"])((function(){var e={};for(var t in a)!1!==a[t].visible&&(e[t]=a[t]);return e})),o=function(e){if(!0===t.value)for(var n in a)a[n].index===e+1&&(a[n].visible=!0);else for(var r in a)a[r].index>e&&(a[r].visible=!1)};function c(e){a.visaPurpose.choices=Qe[e],a.duration.choices=at(e)}function l(){var e=n.passport,r=n.nationality;t.value=("ordinary"===e||null===e)&&(null===r||Be.includes(r)||!1===a.nationality.visible)}Object(v["watchEffect"])((function(){"conference"===n.visaType&&(a.visaPurpose.visible=!1,a.duration.visible=!1),e.value=Object.keys(n).every((function(e){return null!==n[e]})),!0===e.value&&(i.value=nt(n.nationality,n.visaType,n.duration),Object.entries(n).forEach((function(e){var t=Object(Ae["a"])(e,2),n=t[0],r=t[1];return ge.set(n,r)}))),t.value||(n.visaType=null,n.duration=null,n.visaPurpose=null)}));var i=Object(v["ref"])(null);function s(e){return ut(e)}return{formData:n,schema:a,showing:u,update:r,qualify:t,isComplete:e,price:i,getLabel:s}}},lt=ct,it=Object(M["a"])(lt,le,ie,!1,null,null,null),st=it.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("step-layout",{scopedSlots:e._u([{key:"header",fn:function(){},proxy:!0},{key:"title",fn:function(){return[e.third.success?n("h2",{},[e._v("Verify your email address")]):n("div",[n("h2",[e._v("Provide an active email")]),n("p",[e._v(" We use your email to communicate progress and secure your information. ")])])]},proxy:!0},{key:"content",fn:function(){return[e.third.success?n("div",{staticClass:"pt-4"},[n("p",{},[e._v(" We have sent a verification email to "+e._s(e.third.response.email)+". ")]),n("h4",{staticClass:"pt-4"},[e._v(" Click on the link provided in the email we sent to continue ")]),n("ul",{staticClass:"pt-12 text-sm"},[n("li",{staticClass:"flex justify-between border-b border-purple-100 py-2"},[n("div",[e._v("Did not receive the email?")]),n("div",[n("my-button",{attrs:{type:"button"},on:{"~click":function(t){return e.sendMagicLink(t)}}},[e._v(" Resend ")])],1)]),n("li",{staticClass:"flex justify-between py-2"},[n("div",[e._v(e._s(e.third.response.email)+" is not my email")]),n("div",[n("my-button",{attrs:{type:"button"},on:{click:function(t){e.third.success=!1}}},[e._v(" Change ")])],1)])])]):n("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.invalid;return[n("form",{on:{submit:function(e){e.preventDefault()}}},[n("form-factory",{attrs:{value:e.third.response,schema:e.third.schema},on:{input:function(t){return e.update(t)}}}),n("license",{attrs:{value:e.third.response.accept},on:{input:function(t){return e.update(t)}}}),n("div",{staticClass:"flex justify-between flex-row-reverse"},[n("my-button",{attrs:{disabled:r,variant:"primary"},on:{click:e.sendMagicLink}},[e._v("Next")]),n("my-button",{on:{click:function(t){return e.$emit("back")}}},[e._v("Back")])],1)],1)]}}])})]},proxy:!0}])})},vt=[],pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{staticClass:"block w-full py-1 px-2 rounded focus:bg-gray-100 focus:outline-none focus:border-primary-400",class:e.error?"border border-red-300":"border",attrs:{type:"text"},domProps:{value:e.value},on:{change:function(t){return e.$emit("input",t.target.value)}}})},yt=[],It={props:{value:{default:function(){return""},type:String},error:{type:Boolean,default:function(){return!1}}}},dt=It,Nt=Object(M["a"])(dt,pt,yt,!1,null,null,null),ft=Nt.exports,Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("validate",{attrs:{rules:"checked"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input-label",{attrs:{label:"Licence agreement","input-id":"licence-agreement"}}),n("div",{attrs:{id:"licence-agreement"}},[n("p",{staticClass:"text-xs text-gray-600"},[e._v(" I have read the "),n("a",{staticClass:"underline",attrs:{href:"#"}},[e._v("End user licence agreement")]),e._v(" and "),n("a",{staticClass:"underline",attrs:{href:"#"}},[e._v("Privacy policy")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",id:"accept","true-value":"yes","false-value":"no"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e._q(e.checked,"yes")},on:{change:function(t){var n=e.checked,r=t.target,a=r.checked?"yes":"no";if(Array.isArray(n)){var u=null,o=e._i(n,u);r.checked?o<0&&(e.checked=n.concat([u])):o>-1&&(e.checked=n.slice(0,o).concat(n.slice(o+1)))}else e.checked=a}}}),n("label",{staticClass:"pl-1",attrs:{for:"accept"}},[e._v("I accept the agreement and privacy policy")]),n("span",{staticClass:"block h-4 text-xs text-red-700"},[e._v(e._s(r[0]))])])]}}])})},Ot=[];Object(Ie["c"])("checked",{validate:function(e){return"yes"===e},message:function(){return"Accept the licence agreement to continue"}});var St={components:{InputLabel:Re,Validate:Ie["b"]},props:{value:{type:String,default:function(){return!1}}},setup:function(e,t){var n=t.emit,r=Object(v["computed"])({get:function(){return e.value},set:function(e){return n("input",{accept:e})}});return{checked:r}}},Rt=St,bt=Object(M["a"])(Rt,Et,Ot,!1,null,null,null),Tt=bt.exports,mt=["passport","duration","nationality","visaPurpose","visaType"],Ct=function(){var e={};return mt.forEach((function(t){return e[t]=ge.get(t)})),e},Lt={components:{StepLayout:X,MyButton:re,FormFactory:Ce,License:Tt,ValidationObserver:Ie["a"]},setup:function(){var e=Object(v["reactive"])({response:{email:null,accept:"no"},schema:ht,loading:null,error:null,success:!1}),t=Object(v["inject"])("feathers");function n(t){var n=Object.keys(t)[0];Object(v["set"])(e.response,n,t[n])}function r(){return u.apply(this,arguments)}function u(){return u=Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,e.error=null,r=t.service("authentication"),n.prev=3,n.next=6,r.create({action:"sendMagicLink",email:e.response.email,type:"first",visa:Ct()});case 6:e.success=!0,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](3),e.error=n.t0;case 12:return n.prev=12,e.loading=!1,n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[3,9,12,15]])}))),u.apply(this,arguments)}return{third:e,update:n,sendMagicLink:r}}},ht={email:{component:ft,attrs:{placeholder:"jdoe@example.com",type:"email"},label:"Email address",validation:"required|email"}},Ut=Lt,Mt=Object(M["a"])(Ut,At,vt,!1,null,null,null),Dt=Mt.exports,xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("step-layout",{scopedSlots:e._u([{key:"title",fn:function(){return[e.applications&&!e.current?n("div",[n("h2",[e._v("You have "+e._s(e.total)+" incomplete applications")]),n("p",[e._v(" We found incomplete applications that are associated with your email address. ")]),n("h4",{staticClass:"pt-2"},[e._v("Select the one you wish to continue with")])]):n("div",[n("h2",[e._v(e._s(e.questions.current.name))])])]},proxy:!0},{key:"full",fn:function(){return[e.applications&&!e.current?n("ul",e._l(e.applications,(function(t){return n("li",{key:t._id,staticClass:"flex flex-no-wrap justify-between py-2 px-4 border-b border-purple-100 hover:bg-purple-100",on:{click:function(n){return e.setCurrent(t)}}},[n("div",[n("div",{staticClass:"leading-tight"},[e._v(" "+e._s(t.duration)+" "+e._s("one"===t.duration?"month":"months")+" "+e._s(t.visaType)+" visa ")]),n("div",{staticClass:"text-xs text-gray-600 leading-tight"},[n("span",{staticClass:"inline-block mr-2"},[e._v("expand >")]),n("span",[e._v(" Started 5 hours ago ")])])]),n("div",{staticClass:"static flex items-center z-10 "},[n("button",{staticClass:"p-1 rounded bg-purple-100 hover:bg-red-500",attrs:{type:"button"},on:{"~click":function(n){return n.stopPropagation(),e.discard(t._id)}}},[e._v(" discard ")])])])})),0):e._e()]},proxy:!0},{key:"content",fn:function(){return[e.applications&&!e.current?n("span",{staticClass:"text-xs"},[e._v("All incomplete applications will be discarded in 14 days "),n("a",{attrs:{href:"#"}},[e._v("learn more")])]):e._e(),e.current?n("div",[n("form-factory",{attrs:{value:e.current,schema:e.questions.current.questions},on:{input:function(t){return e.update(t)}}})],1):e._e()]},proxy:!0},{key:"navigation",fn:function(){return[n("div",{staticClass:"flex justify-between flex-row-reverse"},[n("my-button",{attrs:{variant:"primary"},on:{click:e.nextStep}},[e._v("Next")]),n("my-button",{on:{click:e.backStep}},[e._v("Back")])],1)]},proxy:!0}])})},_t=[],gt={steps:[0,1],0:{name:"Contact information",id:0,questions:{surname:{label:"Surname / Family name",component:ft,validation:"required"},name:{label:"Given name(s)",component:ft,validation:"required"},phone:{label:"Phone / Mobile number",component:ft,validation:"required"},address:{label:"Residential address",component:ft,validation:"required"},country:{label:"Country of residence",component:Ke,choices:Je,attrs:{placeholder:"Select country where you currently live"},validation:"required"}}},1:{name:"Family information",id:1,questions:{marital:{label:"Marital status",component:qe,choices:[{text:"Single",value:"single"},{text:"Married",value:"married"}],validation:"required"},father:{label:"Father name",component:ft,validation:"required"}}}},Bt={components:{StepLayout:X,FormFactory:Ce,MyButton:re},setup:function(e,t){var n=t.root,r=t.emit,u=n.$store,o=Object(v["computed"])((function(){return u.state.applications})),c=Object(v["computed"])((function(){return u.state.current})),l=Object(v["computed"])((function(){return u.state.totalApplications})),i=Object(v["computed"])({get:function(){return u.state.current.currentStep?u.state.current.currentStep:gt.steps[0]},set:function(e){u.commit("input",{currentStep:e})}}),s=Object(v["reactive"])({current:{}});function A(){gt.steps.includes(i.value+1)&&(i.value=i.value+1),console.log(i.value)}function p(){0===i.value?r("back"):i.value=i.value-1}function y(e){u.commit("patch",{current:e})}function I(e){u.dispatch("discard",e)}function d(e){u.commit("input",e)}return Object(v["watchEffect"])((function(){return s.current=gt[i.value]})),Object(v["onBeforeMount"])(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.dispatch("initialise"));case 1:case"end":return e.stop()}}),e)})))),{applications:o,setCurrent:y,current:c,total:l,discard:I,questions:s,update:d,nextStep:A,backStep:p,currentStep:i}}},Gt=Bt,jt=Object(M["a"])(Gt,xt,_t,!1,null,null,null),Pt=jt.exports,kt={components:{First:ce,Second:st,Third:Dt,Fourth:Pt},setup:function(){var e=Object(v["ref"])(0);function t(){e.value++}function n(){e.value--}d();var r=Object(v["ref"])(null),u=Object(v["inject"])("feathers");return Object(v["onMounted"])(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.reAuthenticate();case 3:r.value=!0,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),r.value=!1;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))),Object(v["provide"])("isLoggedIn",r),Object(v["watchEffect"])((function(){!0===r.value&&(e.value=3)})),{nextStep:t,activeStep:e,previousStep:n,isLoggedIn:r}}},Ht=kt,wt=Object(M["a"])(Ht,F,Y,!1,null,null,null),Kt=wt.exports,Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"max-w-sm mx-auto pt-16"},[e.status.loading?n("h2",[e._v("Verifying ...")]):e._e(),e.status.error?n("div",{staticClass:"p-4 bg-red-100"},[n("h2",{staticClass:"text-lg font-bold"},[e._v(e._s(e.status.error.title))]),e._v(" "+e._s(e.status.error.message)+" ")]):e._e()])},Yt=[],Vt={setup:function(e,t){var n=t.root;d();var r=Object(v["computed"])((function(){var e=n.$route.query,t=e.acc,r=e.token;return{email:t,magic:r,strategy:"link"}})),u=Object(v["reactive"])({loading:null,error:null}),o=Object(v["inject"])("feathers");return Object(v["onMounted"])(Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.loading=!0,e.next=3,o.authenticate(r.value).catch((function(e){switch(e.code){case 401:u.error={message:"The link you clicked is expired or has bee clicked more than once. Please request a new one.",title:"Link is invalid"};break;default:u.error={message:"Unexpected server error. Please try again later",title:"Server error"}}console.log(e),u.loading=!1}));case 3:t=e.sent,t&&n.$router.push("/visa");case 5:case"end":return e.stop()}}),e)})))),{authRequest:r,status:u}}},Zt=Vt,Wt=Object(M["a"])(Zt,Ft,Yt,!1,null,null,null),qt=Wt.exports;r["default"].use(j["a"]);var $t=[{path:"/",name:"Home",component:K},{path:"/visa",name:"Visa",component:Kt},{path:"/magic",name:"magic",component:qt}],Jt=new j["a"]({mode:"history",base:"/",routes:$t}),Xt=Jt;r["default"].config.productionTip=!1,r["default"].use(p.a),new r["default"]({router:Xt,store:S,render:function(e){return e(G)}}).$mount("#app")},"5e99":function(e,t,n){},"7fbe":function(e,t,n){"use strict";var r=n("1b34"),a=n.n(r);a.a},"8e1c":function(e,t){},c03f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"flex bg-gray-300"},[n("ul",{staticClass:"flex container mx-auto justify-center"})])}]},cba1:function(e,t,n){"use strict";var r=n("5e99"),a=n.n(r);a.a},d571:function(e,t,n){"use strict";var r=n("c03f"),a=n("2813"),u=n("2877"),o=Object(u["a"])(a["default"],r["a"],r["b"],!1,null,null,null);t["default"]=o.exports},d940:function(e,t,n){}});
//# sourceMappingURL=app.47b59024.js.map